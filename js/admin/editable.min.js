(function(a){a.fn.extend({"editableInput":function(c){if(c=="reset"){id=a(this).attr("id");val=a(this).data("old-value");a(this).data("old-value",a(this).data("value"));a(this).data("value",val);a(this).find("#ei-"+id).html(val);a(this).find("#eii-"+id).val(val);return}var d={change:"修改",submit:"提交",cancel:"取消"};if(c.lang!=undefined){if(c.lang.change!=undefined){d.change=c.lang.change}if(c.lang.submit!=undefined){d.submit=c.lang.submit}if(c.lang.cancel!=undefined){d.cancel=c.lang.cancel}}id=a(this).attr("id");data=a(this).html();a(this).data("value",data);if(c.full){full="w80"}else{full="w60"}var b='<div id="ei1-'+id+'" style="min-height: 30px;"><span id="ei-'+id+'">'+data+'</span> <a href="javascript:void(0)" id="eia-'+id+'">'+d.change+"</a></div>";b+='<div id="ei2-'+id+'" class="nodisplay" style="min-height: 30px;"><input type="text" value="'+data+'" id="eii-'+id+'" class="form-control input-sm '+full+' inline-block"> <a href="javascript:void(0)" id="eib-'+id+'">'+d.submit+'</a> <a href="javascript:void(0)" id="eic-'+id+'">'+d.cancel+"</a> </div>";a(this).html(b);a("#eia-"+id).click(function(){id=a(this).parent().parent().attr("id");a("#ei1-"+id).hide();a("#ei2-"+id).show();a("#eii-"+id).val(a("#ei-"+id).html());a("#eii-"+id).focus();a("#eii-"+id).select()});a("#eib-"+id).click(function(){id=a(this).parent().parent().attr("id");val=a("#eii-"+id).val();if(a("#"+id).data("value")==val){a("#ei1-"+id).show();a("#ei2-"+id).hide();return}if(c.confirm){if(!confirm("你确定要修改该条目的值为'"+val+"'吗?")){return}}a("#ei-"+id).html(val);a("#ei1-"+id).show();a("#ei2-"+id).hide();a("#"+id).data("old-value",a("#"+id).data("value"));a("#"+id).data("value",val);if(c.submit!=undefined){c.submit(val)}});a("#eic-"+id).click(function(){id=a(this).parent().parent().attr("id");a("#ei1-"+id).show();a("#ei2-"+id).hide();a("#eii-"+id).val(a("#ei-"+id).html())})},"editableSelector":function(c){if(c=="reset"){id=a(this).attr("id");val=a(this).data("old-value");a(this).data("old-value",a(this).data("value"));a(this).data("value",val);a(this).find("#ei-"+id).html(val);a(this).find("#eii-"+id).val(val);return}var d={change:"修改",submit:"提交",cancel:"取消"};if(c.lang!=undefined){if(c.lang.change!=undefined){d.change=c.lang.change}if(c.lang.submit!=undefined){d.submit=c.lang.submit}if(c.lang.cancel!=undefined){d.cancel=c.lang.cancel}}id=a(this).attr("id");cur_val=a(this).html();a(this).data("value",cur_val);var b='<div id="ei1-'+id+'" style="min-height: 34px;"><span id="ei-'+id+'">'+cur_val+'</span> <a href="javascript:void(0)" id="eia-'+id+'">'+d.change+"</a></div>";b+='<div id="ei2-'+id+'" class="nodisplay" style="min-height: 34px;">';if(c.full){full="w80"}else{full="w60"}b+='<select id="eii-'+id+'" class="form-control inline-block '+full+'">';a.each(c.options,function(e,f){b+='<option value="'+f+'">'+f+"</option>"});setTimeout(function(){a("#eii-"+id).val(cur_val)},1);b+="</select>";b+=' <a href="javascript:void(0)" id="eib-'+id+'">'+d.submit+'</a> <a href="javascript:void(0)" id="eic-'+id+'">'+d.cancel+"</a> </div>";a(this).html(b);a("#eia-"+id).click(function(){id=a(this).parent().parent().attr("id");a("#ei1-"+id).hide();a("#ei2-"+id).show();a("#eii-"+id).val(a("#ei-"+id).html())});a("#eib-"+id).click(function(){id=a(this).parent().parent().attr("id");val=a("#eii-"+id).val();if(a("#"+id).data("value")==val){a("#ei1-"+id).show();a("#ei2-"+id).hide();return}if(c.confirm){if(!confirm("你确定要修改该条目的值为'"+val+"'吗?")){return}}a("#ei-"+id).html(val);a("#ei1-"+id).show();a("#ei2-"+id).hide();a("#"+id).data("old-value",a("#"+id).data("value"));a("#"+id).data("value",val);if(c.submit!=undefined){c.submit(val)}});a("#eic-"+id).click(function(){id=a(this).parent().parent().attr("id");a("#ei1-"+id).show();a("#ei2-"+id).hide();a("#eii-"+id).val(a("#ei-"+id).html())})}})})(jQuery);